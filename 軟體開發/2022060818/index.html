<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="google-site-verification" content="pZ-aKgYoFLXb0aX2M5bgd0NvdKdH9LWgjUR5X12lD8U"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>[è­¯] #2 React Query çš„è³‡æ–™è½‰æ› - Yuri å­¸ç¿’éš¨ç­†</title><link rel="manifest" href="/blog/manifest.json"><meta name="application-name" content="Yuri å­¸ç¿’éš¨ç­†"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Yuri å­¸ç¿’éš¨ç­†"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="æœ¬ç¯‡æ–‡ç« ç¿»è‡ª React Query Data Transformationsè¬è¬ @TkDodo æ’°å¯« React Query çš„å„ªè³ªç³»åˆ—æ–‡ï¼Œä¸¦ä¸”é–‹æ”¾å„æ–¹ç¿»è­¯ã€‚ (å°é¢åœ–ç”± Joshua Sukoff æä¾›)"><meta property="og:type" content="blog"><meta property="og:title" content="[è­¯] #2 React Query çš„è³‡æ–™è½‰æ›"><meta property="og:url" content="https://yuritsaitw.github.io/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/"><meta property="og:site_name" content="Yuri å­¸ç¿’éš¨ç­†"><meta property="og:description" content="æœ¬ç¯‡æ–‡ç« ç¿»è‡ª React Query Data Transformationsè¬è¬ @TkDodo æ’°å¯« React Query çš„å„ªè³ªç³»åˆ—æ–‡ï¼Œä¸¦ä¸”é–‹æ”¾å„æ–¹ç¿»è­¯ã€‚ (å°é¢åœ–ç”± Joshua Sukoff æä¾›)"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://yuritsaitw.github.io/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/cover.jpeg"><meta property="article:published_time" content="2022-06-08T18:20:51.000Z"><meta property="article:modified_time" content="2023-09-23T06:33:42.597Z"><meta property="article:author" content="Yuri Tsai"><meta property="article:tag" content="React Query"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/cover.jpeg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://yuritsaitw.github.io/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/"},"headline":"Yuri å­¸ç¿’éš¨ç­†","image":[],"datePublished":"2022-06-08T18:20:51.000Z","dateModified":"2023-09-23T06:33:42.597Z","author":{"@type":"Person","name":"Yuri Tsai"},"description":"æœ¬ç¯‡æ–‡ç« ç¿»è‡ª React Query Data Transformationsè¬è¬ @TkDodo æ’°å¯« React Query çš„å„ªè³ªç³»åˆ—æ–‡ï¼Œä¸¦ä¸”é–‹æ”¾å„æ–¹ç¿»è­¯ã€‚ (å°é¢åœ–ç”± Joshua Sukoff æä¾›)"}</script><link rel="canonical" href="https://yuritsaitw.github.io/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/"><link rel="icon" href="/blog/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/blog/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-RB9TX9FZV1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-RB9TX9FZV1');</script><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.4.1"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/blog/"><img src="/blog/img/logo.png" alt="Yuri å­¸ç¿’éš¨ç­†" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/blog/">é¦–é </a><a class="navbar-item" href="/blog/archives">å½™æ•´</a><a class="navbar-item" href="/blog/categories">åˆ†é¡</a><a class="navbar-item" href="/blog/tags">æ¨™ç±¤</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="è«‹æˆ‘å–æ¯å’–å•¡å§ğŸ’–" href="https://www.buymeacoffee.com/yurijournaltw"><i class="fas fa-coffee"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="æ–‡ç« ç›®éŒ„" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="æœå°‹" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/cover.jpeg" alt="[è­¯] #2 React Query çš„è³‡æ–™è½‰æ›"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-06-08T18:20:51.000Z" title="6/8/2022, 6:20:51 PM">2022-06-08</time>ç™¼è¡¨</span><span class="level-item"><time dateTime="2023-09-23T06:33:42.597Z" title="9/23/2023, 6:33:42 AM">2023-09-23</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/blog/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">è»Ÿé«”é–‹ç™¼</a></span><span class="level-item">5 åˆ†é˜è®€å®Œ (å¤§ç´„1846å€‹å­—)</span></div></div><h1 class="title is-3 is-size-4-mobile">[è­¯] #2 React Query çš„è³‡æ–™è½‰æ›</h1><div class="content"><blockquote><p>æœ¬ç¯‡æ–‡ç« ç¿»è‡ª <a target="_blank" rel="noopener" href="https://tkdodo.eu/blog/react-query-data-transformations">React Query Data Transformations</a><br>è¬è¬ <a target="_blank" rel="noopener" href="https://github.com/tkdodo">@TkDodo</a> æ’°å¯« React Query çš„å„ªè³ªç³»åˆ—æ–‡ï¼Œä¸¦ä¸”é–‹æ”¾å„æ–¹ç¿»è­¯ã€‚</p>
<p>(å°é¢åœ–ç”± <a target="_blank" rel="noopener" href="https://unsplash.com/@joshuas">Joshua Sukoff</a> æä¾›)</p>
</blockquote>

<span id="more"></span>

<article class="message message-immersive is-primary">
<div class="message-body">
è€ƒé‡åˆ°èªå¥é€šæš¢æ€§ï¼Œéƒ¨åˆ†è©å¥ä¸æœƒå®Œå…¨è²¼åˆ‡åŸæ„ï¼›å¦å¤–å°ˆæœ‰åè©æœƒä¾ç…§å€‹äººç¿’æ…£ï¼Œé©ç•¶åœ°ç¿»è­¯æˆä¸­æ–‡æˆ–æ˜¯ç¶­æŒè‹±æ–‡ï¼Œå¦‚æœæœ‰è©ä¸é”æ„æˆ–éŒ¯èª¤çš„åœ°æ–¹æ­¡è¿æå‡º ğŸ‘‹
</div>
</article>

<p>æ­¡è¿ä¾†åˆ°ã€Œé—œæ–¼ React Query æˆ‘æƒ³èªªçš„äº‹æƒ…ã€ part 2ã€‚ç”±æ–¼æˆ‘åƒèˆ‡é€™å€‹å‡½å¼åº«å’Œç›¸é—œç¤¾ç¾¤çš„ç¨‹åº¦æ„ˆä¾†æ„ˆæ·±ï¼Œæˆ‘è§€å¯Ÿåˆ°äººå€‘å¸¸å•ç‰¹å®šæ–¹é¢çš„å•é¡Œã€‚åŸæœ¬æˆ‘æ˜¯æƒ³è¦ç”¨ä¸€ç¯‡é•·æ–‡çš„å½¢å¼å¯«å®Œï¼Œä¸éæˆ‘å¾Œä¾†æ±ºå®šå°‡é€™äº›å•é¡Œåˆ†é–€åˆ¥é¡ï¼Œå¯«æˆä¸åŒçš„æ–‡ç« ã€‚ç¬¬ä¸€ç¯‡çš„ä¸»é¡Œç›¸ç•¶åœ°æ™®éä¸¦ä¸”å¾ˆé‡è¦ï¼šè³‡æ–™è½‰æ›ã€‚</p>
<h2 id="è³‡æ–™è½‰æ›"><a href="#è³‡æ–™è½‰æ›" class="headerlink" title="è³‡æ–™è½‰æ›"></a>è³‡æ–™è½‰æ›</h2><h3 id="0-å¾å¾Œç«¯ä¾†çœ‹"><a href="#0-å¾å¾Œç«¯ä¾†çœ‹" class="headerlink" title="0. å¾å¾Œç«¯ä¾†çœ‹"></a>0. å¾å¾Œç«¯ä¾†çœ‹</h3><p>å¯ä»¥é”æˆçš„è©±ï¼Œé€™æœƒæ˜¯æˆ‘æœ€å–œæ­¡çš„æ–¹å¼ã€‚å¦‚æœå¾Œç«¯å›å‚³çš„è³‡æ–™æ­£å¥½ç¬¦åˆå‰ç«¯çš„éœ€æ±‚ï¼Œæˆ‘å€‘å°±ä¸ç”¨å†å¤šåšä»€éº¼ã€‚ç„¶è€Œåœ¨è¨±å¤šæƒ…æ³ä¸‹ï¼Œé€™è½èµ·ä¾†æˆ–è¨±ä¸å¤ªå¯¦éš›ã€‚ä¾‹å¦‚æˆ‘å€‘éœ€è¦ä¸²æ¥å…¬é–‹çš„ REST APIsï¼Œè€Œä¸”é€™ä¹Ÿæœ‰å¯èƒ½åœ¨ä¼æ¥­ç´šæ‡‰ç”¨ä¸­æœƒç¢°åˆ°ã€‚å¦‚æœä½ å°æ–¼å¾Œç«¯æœ‰æŒæ§æ¬Šï¼Œè€Œä¸”å¯ä»¥æ§åˆ¶ enpoint å›å‚³çš„è³‡æ–™å‰›å¥½ç¬¦åˆä½ çš„ä½¿ç”¨æƒ…å¢ƒï¼Œè«‹ç›¡é‡ä½¿ç”¨è€…é€™å€‹æ–¹å¼ã€‚</p>
<p>ğŸŸ¢   ç„¡æ³•é‹ç”¨åœ¨å‰ç«¯ã€‚<br>ğŸ”´   ä¸¦ä¸æ˜¯ç™¾åˆ†ä¹‹ç™¾å¯è¡Œã€‚</p>
<h3 id="1-åœ¨-queryFn-ä¸­"><a href="#1-åœ¨-queryFn-ä¸­" class="headerlink" title="1. åœ¨ queryFn ä¸­"></a>1. åœ¨ <code>queryFn</code> ä¸­</h3><p><code>queryFn</code> æ˜¯ä¸€å€‹ä½ æœƒå‚³å…¥åˆ° <code>useQuery</code>çš„å‡½å¼ï¼Œä¸¦ä¸”æœƒå¸Œæœ›ä½ å›å‚³ä¸€å€‹ Promiseã€‚Promise ä¸­çš„çµæœè³‡æ–™æœƒè¢«ä½œç‚º query cacheã€‚ä¸éé€™ä¸¦ä¸ä»£è¡¨ä½ å¿…é ˆå®Œå…¨æŒ‰ç…§å¾Œç«¯çš„å½¢å¼å›å‚³ã€‚ä½ å¯ä»¥åœ¨å›å‚³å‰å…ˆé€²è¡Œè½‰æ›ï¼Œåƒé€™æ¨£å­ï¼š</p>
<figure class="highlight typescript"><figcaption><span>queryFn-transformation</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fetchTodos = <span class="keyword">async</span> (): <span class="title class_">Promise</span>&lt;<span class="title class_">Todos</span>&gt; =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;todos&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">data</span>: <span class="title class_">Todos</span> = response.<span class="property">data</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> data.<span class="title function_">map</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> todo.<span class="property">name</span>.<span class="title function_">toUpperCase</span>())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodosQuery</span> = (<span class="params"></span>) =&gt; <span class="title function_">useQuery</span>([<span class="string">&#x27;todos&#x27;</span>], fetchTodos)</span><br></pre></td></tr></table></figure>

<p>åœ¨å‰ç«¯è™•ç†é€™ä»½è³‡æ–™æ™‚ï¼Œå°±æœƒæœ‰ç¨®ã€Œé€™å°±åƒæ˜¯ç›´æ¥å¾å¾Œç«¯å–å¾—ã€çš„æ„Ÿè¦ºã€‚åœ¨ä½ çš„æ‡‰ç”¨ä¸­ä¸éœ€è¦é¡å¤–è™•ç†é‚£äº›é–‹é ­æ²’æœ‰å¤§å¯«çš„ä»£è¾¦é …ç›®åç¨±ã€‚ä¸éä½ æœƒæ²’æœ‰æ¬Šé™å»å­˜å–æ–¼åŸæœ¬çš„è³‡æ–™çµæ§‹ã€‚å¦‚æœä½ çœ‹ React Query çš„é–‹ç™¼è€…å·¥å…·ï¼Œä½ æœƒçœ‹åˆ°å·²ç¶“è½‰æ›éçš„è³‡æ–™çµæ§‹ã€‚ä½†å¦‚æœä½ çœ‹ network çš„è«‹æ±‚éç¨‹ï¼Œå‰‡æ˜¯æœƒçœ‹åˆ°åŸæœ¬çš„è³‡æ–™çµæ§‹ã€‚é€™æˆ–è¨±æœƒä»¤äººç–‘æƒ‘ï¼Œæ‰€ä»¥å…ˆæŠŠé€™æ¨£çš„æ–¹å¼æ”¾åœ¨å¿ƒä¸­å§ã€‚</p>
<p>ğŸŸ¢   æŒ‰ç…§ co-location çš„æ¦‚å¿µï¼Œç¬¦åˆå› ã€Œèˆ‡å¾Œç«¯é«˜åº¦ç›¸é—œã€ï¼Œæ‰€ä»¥ç›¡å¯èƒ½æ”¾ç½®åœ¨é è¿‘æŠ“è³‡æ–™çš„åœ°æ–¹ã€‚<br>ğŸŸ¡   è³‡æ–™æœƒåœ¨å­˜å…¥ cache å‰å°±è½‰æ›å®Œæˆï¼Œæ‰€ä»¥ä½ æ²’æœ‰æ¬Šé™å­˜å–åŸæœ¬çš„è³‡æ–™çµæ§‹ã€‚<br>ğŸ”´   æ¯æ¬¡é€²è¡Œ fetch æ™‚éƒ½æœƒåŸ·è¡Œåˆ°ã€‚<br>ğŸ”´   å¦‚æœä½ æœ‰å…±ç”¨ api å±¤çš„è¨­è¨ˆï¼Œè€Œä¸”ç„¡æ³•è¼•æ˜“ä¿®æ”¹çš„è©±ï¼Œé€™æ–¹å¼ä¸¦ä¸å¯è¡Œã€‚</p>
<h3 id="2-åœ¨-render-ä¸­"><a href="#2-åœ¨-render-ä¸­" class="headerlink" title="2. åœ¨ render ä¸­"></a>2. åœ¨ <code>render</code> ä¸­</h3><p>åœ¨ <a target="_blank" rel="noopener" href="https://yuri-journal.me/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060716/">Part 1</a> çš„å»ºè­°ä¸­æœ‰æåˆ°ï¼Œå¦‚æœä½ å»ºç«‹è‡ªè¨‚çš„ hooksï¼Œä½ å¯ä»¥è¼•æ˜“åœ°å°è³‡æ–™é€²è¡Œè½‰æ›ï¼š</p>
<figure class="highlight typescript"><figcaption><span>render-transformation</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fetchTodos = <span class="keyword">async</span> (): <span class="title class_">Promise</span>&lt;<span class="title class_">Todos</span>&gt; =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;todos&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodosQuery</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> queryInfo = <span class="title function_">useQuery</span>([<span class="string">&#x27;todos&#x27;</span>], fetchTodos)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...queryInfo,</span><br><span class="line">    <span class="attr">data</span>: queryInfo.<span class="property">data</span>?.<span class="title function_">map</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> todo.<span class="property">name</span>.<span class="title function_">toUpperCase</span>()),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ç›®å‰ä¾†èªªï¼Œé€™ä¸åƒ…æœƒåœ¨æ¯æ¬¡åŸ·è¡Œ fetch æ™‚å°±è½‰æ›ä¸€æ¬¡ï¼Œé‚„æœƒåœ¨æ¯æ¬¡çš„æ¸²æŸ“æ™‚ï¼ˆç”šè‡³æœ‰äº›æ¸²æŸ“è·ŸæŠ“è³‡æ–™ä¸¦æ²’æœ‰é—œä¿‚ï¼‰ä¹ŸæœƒåŸ·è¡Œåˆ°ã€‚é€™å¯èƒ½æ ¹æœ¬ä¸æ˜¯å€‹å•é¡Œï¼Œä½†å¦‚æœæ˜¯çš„è©±ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>useMemo</code> é€²è¡Œå„ªåŒ–ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®šç¾©çš„ dependencies ç›¡é‡æ˜¯æ„ˆå°‘æ„ˆå¥½ã€‚åœ¨ <code>queryInfo</code> è£¡çš„ <code>data</code>æœƒæ˜¯ç©©å®šä¸è®Šçš„ï¼Œä¸€ç›´åˆ°æŸäº›æ±è¥¿æ”¹è®Šï¼ˆåœ¨é€™ç¨®æƒ…æ³ä¸‹ä½ æœƒæƒ³è¦é‡æ–°è½‰æ›å¾—åˆ°æ–°çš„è³‡æ–™ï¼‰ã€‚<br>__</p>
<figure class="highlight typescript"><figcaption><span>useMemo-dependencies</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodosQuery</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> queryInfo = <span class="title function_">useQuery</span>([<span class="string">&#x27;todos&#x27;</span>], fetchTodos)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...queryInfo,</span><br><span class="line">    <span class="comment">// ğŸš¨ don&#x27;t do this - the useMemo does nothing at all here!</span></span><br><span class="line">    <span class="attr">data</span>: <span class="title class_">React</span>.<span class="title function_">useMemo</span>(</span><br><span class="line">      <span class="function">() =&gt;</span> queryInfo.<span class="property">data</span>?.<span class="title function_">map</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> todo.<span class="property">name</span>.<span class="title function_">toUpperCase</span>()),</span><br><span class="line">      [queryInfo]</span><br><span class="line">    ),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// âœ… correctly memoizes by queryInfo.data</span></span><br><span class="line">    <span class="attr">data</span>: <span class="title class_">React</span>.<span class="title function_">useMemo</span>(</span><br><span class="line">      <span class="function">() =&gt;</span> queryInfo.<span class="property">data</span>?.<span class="title function_">map</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> todo.<span class="property">name</span>.<span class="title function_">toUpperCase</span>()),</span><br><span class="line">      [queryInfo.<span class="property">data</span>]</span><br><span class="line">    ),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€™æœƒæ˜¯å€‹ç†æƒ³çš„æ–¹å¼ï¼Œå°¤å…¶æ˜¯ä½ éœ€è¦åœ¨è‡ªè¨‚ hook è£¡åŠ å…¥é¡å¤–çš„é‚è¼¯ä¾†è™•ç†è³‡æ–™è½‰æ›æ™‚ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„è³‡æ–™æœ‰å¯èƒ½æ˜¯ <code>undefined</code>ï¼Œæ‰€ä»¥è«‹ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Optional_chaining">optional chaining</a> ä¾†è™•ç†ã€‚</p>
<p>ğŸŸ¢   é€é <code>useMemo</code> å„ªåŒ–ã€‚<br>ğŸŸ¡   é–‹ç™¼è€…å·¥å…·ç„¡æ³•æª¢æŸ¥åˆ°æœ€å¾Œç²¾ç¢ºçš„è³‡æ–™çµæ§‹ã€‚<br>ğŸ”´   èªæ³•æœƒæœ‰é»è¿‚è¿´ã€‚<br>ğŸ”´   è³‡æ–™æœ‰å¯èƒ½æœƒæ˜¯ <code>undefined</code>ã€‚</p>
<h3 id="3-ä½¿ç”¨-select-é¸é …"><a href="#3-ä½¿ç”¨-select-é¸é …" class="headerlink" title="3. ä½¿ç”¨ select é¸é …"></a>3. ä½¿ç”¨ <code>select</code> é¸é …</h3><p>åœ¨ v3 æœ‰å¼•å…¥äº†å…§å»ºçš„é¸æ“‡å™¨ï¼ˆselectorsï¼‰ï¼Œæˆ‘å€‘å¯ä»¥ç”¨å®ƒä¾†é€²è¡Œè³‡æ–™çš„è½‰æ›ï¼š</p>
<figure class="highlight typescript"><figcaption><span>select-transformation</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodosQuery</span> = (<span class="params"></span>) =&gt;</span><br><span class="line">  <span class="title function_">useQuery</span>([<span class="string">&#x27;todos&#x27;</span>], fetchTodos, &#123;</span><br><span class="line">    <span class="attr">select</span>: <span class="function">(<span class="params">data</span>) =&gt;</span> data.<span class="title function_">map</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> todo.<span class="property">name</span>.<span class="title function_">toUpperCase</span>()),</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>ç•¶ <code>data</code> å­˜åœ¨æ™‚ï¼Œé¸æ“‡å™¨æ‰æœƒè¢«å‘¼å«åˆ°ï¼Œæ‰€ä»¥ä½ ä¸ç”¨æ“”å¿ƒ <code>undefined</code> çš„æƒ…æ³ã€‚ä»¥ä¸Šè¿°ä¾‹å­çš„é¸æ“‡å™¨ä¾†èªªï¼Œç”±æ–¼æ¯æ¬¡æ¸²æŸ“æ™‚å‡½å¼å¯¦é«”éƒ½æœƒæ”¹è®Šï¼ˆå®ƒæ˜¯ inline å‡½å¼ï¼‰ï¼Œæ‰€ä»¥åœ¨æ¯æ¬¡æ¸²æŸ“æ™‚éƒ½æœƒåŸ·è¡Œåˆ°ã€‚å¦‚æœä½ çš„è³‡æ–™è½‰æ›çš„æˆæœ¬å¾ˆé«˜ï¼ˆéœ€è¦é€²è¡Œè¤‡é›œçš„é‹ç®—ï¼‰ï¼Œä½ å¯ä»¥ memoize é¸æ“‡å™¨å‡½å¼ï¼Œåƒæ˜¯ä½¿ç”¨ <code>useCallback</code> æˆ–è€…è®“ä»–åƒè€ƒåˆ°æ—¢æœ‰çš„å‡½å¼å¯¦é«”ã€‚</p>
<figure class="highlight typescript"><figcaption><span>select-memoizations</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">transformTodoNames</span> = (<span class="params">data: Todos</span>) =&gt;</span><br><span class="line">  data.<span class="title function_">map</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> todo.<span class="property">name</span>.<span class="title function_">toUpperCase</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodosQuery</span> = (<span class="params"></span>) =&gt;</span><br><span class="line">  <span class="title function_">useQuery</span>([<span class="string">&#x27;todos&#x27;</span>], fetchTodos, &#123;</span><br><span class="line">    <span class="comment">// âœ… uses a stable function reference</span></span><br><span class="line">    <span class="attr">select</span>: transformTodoNames,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodosQuery</span> = (<span class="params"></span>) =&gt;</span><br><span class="line">  <span class="title function_">useQuery</span>([<span class="string">&#x27;todos&#x27;</span>], fetchTodos, &#123;</span><br><span class="line">    <span class="comment">// âœ… memoizes with useCallback</span></span><br><span class="line">    <span class="attr">select</span>: <span class="title class_">React</span>.<span class="title function_">useCallback</span>(</span><br><span class="line">      <span class="function">(<span class="params">data: Todos</span>) =&gt;</span> data.<span class="title function_">map</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> todo.<span class="property">name</span>.<span class="title function_">toUpperCase</span>()),</span><br><span class="line">      []</span><br><span class="line">    ),</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>é™¤æ­¤ä¹‹å¤–ï¼Œ<code>select</code> é¸é …å¯ä»¥ç”¨ä¾†åªè¨‚é–±éƒ¨åˆ†çš„è³‡æ–™ã€‚é€™ä¹Ÿæ˜¯é€™å€‹æ–¹å¼ç¨ç‰¹çš„åœ°æ–¹ã€‚æ€è€ƒä»¥ä¸‹çš„ç¯„ä¾‹ç¨‹å¼ï¼š</p>
<figure class="highlight typescript"><figcaption><span>select-partial-subscriptions</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodosQuery</span> = (<span class="params">select</span>) =&gt;</span><br><span class="line">  <span class="title function_">useQuery</span>([<span class="string">&#x27;todos&#x27;</span>], fetchTodos, &#123; select &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodosCount</span> = (<span class="params"></span>) =&gt; <span class="title function_">useTodosQuery</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> data.<span class="property">length</span>)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useTodo</span> = (<span class="params">id</span>) =&gt;</span><br><span class="line">  <span class="title function_">useTodosQuery</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> data.<span class="title function_">find</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> todo.<span class="property">id</span> === id))</span><br></pre></td></tr></table></figure>

<p>åœ¨é€™è£¡ï¼Œæˆ‘å€‘å»ºç«‹äº†é¡ä¼¼ <a target="_blank" rel="noopener" href="https://react-redux.js.org/api/hooks#useselector">Reduxï¼useSelector</a> çš„ APIï¼Œä¸¦ä¸”å‘¼å«äº† <code>useTodosQuery</code> ä»¥åŠå‚³å…¥è‡ªè¨‚çš„é¸æ“‡å™¨ã€‚å¦‚æœä½ æ²’æœ‰å‚³å…¥è‡ªè¨‚çš„é¸æ“‡å™¨ï¼Œé€™å€‹è‡ªè¨‚ hook ä¸€æ¨£å¯ä»¥é‹ä½œï¼Œä»–æœƒå›å‚³æ‰€æœ‰çš„è³‡æ–™ç‹€æ…‹ã€‚</p>
<p>ä¸éå¦‚æœä½ å‚³å…¥ä¸€å€‹é¸æ“‡å™¨ï¼Œä½ å°±åªæœƒè¨‚é–±åˆ°é€™å€‹é¸æ“‡å™¨å‡½å¼çš„åŸ·è¡Œçµæœã€‚é€™æœƒéå¸¸çš„å¼·å¤§ï¼Œå› ç‚ºé€™ä»£è¡¨å³ä½¿æˆ‘å€‘æ›´æ–°æŸå€‹å¾…è¾¦é …ç›®çš„åç¨±ï¼Œåªæœ‰é€é <code>useTodosCount</code> è¨‚é–±å¾…è¾¦é …ç›®çš„æ•¸é‡çš„å…ƒä»¶ä¸¦ä¸æœƒè¢«é‡æ–°æ¸²æŸ“ã€‚ç”±æ–¼æ•¸é‡çš„å€¼ä¸¦æ²’æœ‰æ”¹è®Šï¼Œæ‰€ä»¥ React Query å¯ä»¥é¸æ“‡ä¸è¦é€šçŸ¥è§€å¯Ÿè€…æ›´æ–° ğŸ¥³ (è«‹æ³¨æ„ä¸€ä¸‹é€™è£¡æ˜¯ç°¡åŒ–éçš„èªªæ˜ï¼Œå°±æŠ€è¡“ä¸Šä¾†èªªä¸¦ä¸å®Œå…¨æ­£ç¢ºï¼æˆ‘æœƒåœ¨ Part 3 èªªå¾—æ›´ä»”ç´°)ã€‚</p>
<p>ğŸŸ¢   æœ€å¥½çš„å„ªåŒ–æ–¹å¼ã€‚<br>ğŸŸ¢   å¯ä»¥å…è¨±éƒ¨åˆ†çš„è¨‚é–±ã€‚<br>ğŸŸ¡   å¯ä»¥æ ¹æ“šä¸åŒçš„è§€å¯Ÿè€…çµ„ç¹”ä¸åŒçš„è½‰æ›æ–¹å¼ã€‚<br>ğŸŸ¡   çµæ§‹å¼å…±äº«æœƒè¢«åŸ·è¡Œå…©æ¬¡(æˆ‘æœƒåœ¨ Part 3 æåˆ°æ›´å¤šç´°ç¯€)ã€‚</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>[è­¯] #2 React Query çš„è³‡æ–™è½‰æ›</p><p><a href="https://yuritsaitw.github.io/blog/è»Ÿé«”é–‹ç™¼/2022060818/">https://yuritsaitw.github.io/blog/è»Ÿé«”é–‹ç™¼/2022060818/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>ä½œè€…</h6><p>Yuri Tsai</p></div></div><div class="level-item is-narrow"><div><h6>ç™¼è¡¨æ–¼</h6><p>2022-06-08</p></div></div><div class="level-item is-narrow"><div><h6>æ›´æ–°æ–¼</h6><p>2023-09-23</p></div></div><div class="level-item is-narrow"><div><h6>è¨±å¯å”è­°</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/blog/tags/React-Query/">React Query</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=603f4a070e267500127ccaef&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">å–œæ­¡é€™ç¯‡æ–‡ç« å—? è´ŠåŠ©ä¸€ä¸‹ä½œè€…å§!</h3><div class="buttons is-centered"><div class="likecoin-embed likecoin-button"><div></div><iframe scrolling="no" frameborder="0" src="https://button.like.co/in/embed/showwell0120/button?referrer=&lt;%- encodeURIComponent(post.permalink) %&gt;"></iframe></div><a class="button donate" href="https://www.buymeacoffee.com/yurijournaltw" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>é€æˆ‘æ¯å’–å•¡</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022061017/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">[è­¯] #3 React Query çš„å„ªåŒ–</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060716/"><span class="level-item">[è­¯] #1 React Query çš„å¯¦ç”¨æŠ€å·§</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">è©•è«–</h3><script src="https://utteranc.es/client.js" repo="showwell0120/utterances-for-blog" issue-term="pathname" label="some-issue-label" theme="github-light" crossorigin="anonymous" async></script></div></div></div><!--!--><div class="column column-right is-3-tablet is-3-desktop is-3-widescreen  order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">æ–‡ç« ç›®éŒ„</h3><ul class="menu-list"><li><a class="level is-mobile" href="#è³‡æ–™è½‰æ›"><span class="level-left"><span class="level-item">1</span><span class="level-item">è³‡æ–™è½‰æ›</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#0-å¾å¾Œç«¯ä¾†çœ‹"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">0. å¾å¾Œç«¯ä¾†çœ‹</span></span></a></li><li><a class="level is-mobile" href="#1-åœ¨-queryFn-ä¸­"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">1. åœ¨ queryFn ä¸­</span></span></a></li><li><a class="level is-mobile" href="#2-åœ¨-render-ä¸­"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">2. åœ¨ render ä¸­</span></span></a></li><li><a class="level is-mobile" href="#3-ä½¿ç”¨-select-é¸é …"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">3. ä½¿ç”¨ select é¸é …</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/blog/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><figure class="media-left"><a class="image" href="/blog/%E8%81%B7%E6%B6%AF%E7%99%BC%E5%B1%95/2023010913/"><img src="/blog/%E8%81%B7%E6%B6%AF%E7%99%BC%E5%B1%95/2023010913/cover.png" alt="ç¬¬ä¸€å¹´çš„å·¥ä½œå›é¡§ | ç†±é¬§é»ç§‘æŠ€ Migo"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-01-09T13:38:44.000Z">2023-01-09</time></p><p class="title"><a href="/blog/%E8%81%B7%E6%B6%AF%E7%99%BC%E5%B1%95/2023010913/">ç¬¬ä¸€å¹´çš„å·¥ä½œå›é¡§ | ç†±é¬§é»ç§‘æŠ€ Migo</a></p><p class="categories"><a href="/blog/categories/%E8%81%B7%E6%B6%AF%E7%99%BC%E5%B1%95/">è·æ¶¯ç™¼å±•</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022061017/"><img src="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022061017/cover.jpeg" alt="[è­¯] #3 React Query çš„å„ªåŒ–"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-06-10T17:36:18.000Z">2022-06-10</time></p><p class="title"><a href="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022061017/">[è­¯] #3 React Query çš„å„ªåŒ–</a></p><p class="categories"><a href="/blog/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">è»Ÿé«”é–‹ç™¼</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/"><img src="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/cover.jpeg" alt="[è­¯] #2 React Query çš„è³‡æ–™è½‰æ›"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-06-08T18:20:51.000Z">2022-06-08</time></p><p class="title"><a href="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060818/">[è­¯] #2 React Query çš„è³‡æ–™è½‰æ›</a></p><p class="categories"><a href="/blog/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">è»Ÿé«”é–‹ç™¼</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060716/"><img src="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060716/cover.png" alt="[è­¯] #1 React Query çš„å¯¦ç”¨æŠ€å·§"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-06-07T16:22:49.000Z">2022-06-07</time></p><p class="title"><a href="/blog/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/2022060716/">[è­¯] #1 React Query çš„å¯¦ç”¨æŠ€å·§</a></p><p class="categories"><a href="/blog/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">è»Ÿé«”é–‹ç™¼</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/blog/%E8%81%B7%E6%B6%AF%E7%99%BC%E5%B1%95/2022032211/"><img src="/blog/%E8%81%B7%E6%B6%AF%E7%99%BC%E5%B1%95/2022032211/cover.png" alt="ç¬¬ä¸€æ¬¡çš„è½‰è· | 6 å¹´çš„å·¥ä½œå›é¡§ | å˜‰å¯¦è³‡è¨Š SysJust"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-03-22T11:16:15.000Z">2022-03-22</time></p><p class="title"><a href="/blog/%E8%81%B7%E6%B6%AF%E7%99%BC%E5%B1%95/2022032211/">ç¬¬ä¸€æ¬¡çš„è½‰è· | 6 å¹´çš„å·¥ä½œå›é¡§ | å˜‰å¯¦è³‡è¨Š SysJust</a></p><p class="categories"><a href="/blog/categories/%E8%81%B7%E6%B6%AF%E7%99%BC%E5%B1%95/">è·æ¶¯ç™¼å±•</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/blog/"><img src="/blog/img/logo.png" alt="Yuri å­¸ç¿’éš¨ç­†" height="28"></a><p class="is-size-7"><span>&copy; 2023 Yuri Tsai</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-TW");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/blog/js/column.js"></script><script src="/blog/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é é¦–" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/blog/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "æ­¤ç¶²ç«™ä½¿ç”¨Cookieä¾†æ”¹å–„æ‚¨çš„é«”é©—ã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è¨±ä½¿ç”¨Cookie",
          deny: "æ‹’çµ•",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="/blog/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="è«‹è¼¸å…¥é—œéµå­—..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/blog/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/blog/content.json"}, {"hint":"è«‹è¼¸å…¥é—œéµå­—...","untitled":"(ç„¡æ¨™é¡Œ)","posts":"æ–‡ç« ","pages":"é é¢","categories":"åˆ†é¡","tags":"æ¨™ç±¤"});
        });</script></body></html>